# 《统计机器学习》附加题竞赛—空气质量预测

空气质量预测（给定一段时间内的北京天气相关指数数据和北京PM2.5指数等，建立K近邻模型预测接下来一段时间内北京的PM2.5指数。）

## 尝试

1. 将date数据格式调整为int类型，未作调参：9461

2. 调整knn的k，k=2时最好

   ![image-20230610234818942](C:\Users\13711\AppData\Roaming\Typora\typora-user-images\image-20230610234818942.png)

3. 对数据做主成分分析和时间序列分析，选取部分特征进行预测

   - 选取除了风向的特征进行分析，均方误差10099
   - 选取除了风向、date、hour的特征进行分析，均方误差9993
   - 从时间戳中提取出月份信息，均方误差7077
   - 从时间戳中提取出年月日三列信息，并舍弃一开始的date列，均方误差6375

   !\[1686412174655\](D:\\Documents\\WeChatFiles\\WeChat Files\\wxid_dsnt1ana22q622\\FileStorage\\Temp\\1686412174655.png)

4. 采用RNN，得分5065

5. 采用LSTM，得分4094

6. 重新采用knn，对每个参数赋予权重

   - 权重通过贝叶斯搜索，将日期拆成年月日，进行600次迭代，得到参数{'n_neighbors': 2, 'p': 1, 'w1': 0.35, 'w2': 0.02, 'w3': 0.49, 'w4': 0.4, 'w5': 0.29, 'w6': 0.05, 'w7': 0.52, 'w8': 0.02, 'w9': 0.76, 'w10': 0.0, 'w11': 0.25, 'w12': 0.81, 'w13': 0.83, 'w14': 0.06}，得分5139
   - 将低于0.1的权重设为0,10折得分1781提交得分4088在之前基础上微调，{'n_neighbors': 2, 'p': 1, 'w1': 0.38, 'w2': 0, 'w3': 0.5, 'w4': 0.4, 'w5': 0.22, 'w6': 0, 'w7': 0.5, 'w8': 0, 'w9': 0.75, 'w10': 0, 'w11': 0.22, 'w12': 0.8, 'w13': 0.8, 'w14': 0}提交得分4032
   - 重新进行1000次迭代，然后进行微调，最后{'n_neighbors': 2, 'p': 1, 'w1': 0. 82, 'w2': 0.4, 'w3': 0, 'w4': 0.75, 'w5': 0.35, 'w6': 0.2, 'w7': 0, 'w8': 0, 'w9': 0, 'w10': 0, 'w11': 0.4, 'w12': 1, 'w13': 0.7, 'w14': 0}提交得分3867
